<div class="flex pt-4">
  <div class="h-full relative overflow-x-auto overflow-y-auto max-h-[715px] shadow-md sm:rounded-lg">
    <div>
      <table class="bg-white w-96 rounded-lg overflow-hidden border-collapse text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-white uppercase bg-black dark:bg-gray-700 dark:text-gray-400 sticky top-0 z-10">
          <tr>
            <th scope="col" class="p-4 text-white">Descrição</th>
            <th scope="col" class="p-4 text-white">Data</th>
            <th scope="col" class="p-4 text-white">Etapas</th>
            <th scope="col" class="p-4 text-white">Disciplinas</th>
            <th scope="col" class="p-4 text-white">Projetos</th>
            <th scope="col" class="p-4 text-white">Arquivos</th>
            <th scope="col" class="p-4 text-white">Status</th>
          </tr>
          <tr>
            <td colspan="7" class="bg-white px-4 py-2 text-black border border-gray-300 text-sm font-bold">Listas compartilhadas</td>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
          @for (item of listaCompartilhada; track $index) {
          <tr (click)="redirecionarArquivo(item);" class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600 hover:cursor-pointer">
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{ item.lista_compartilhada_descricao }}
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{item.lista_compartilhada_data | date : "dd/MM/yyyy HH:mm:ss"}}
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              <ul>
                <li *ngFor="let etapa of getUniqueEtapas(item.lista_compartilhada_arquivo)">
                  {{ etapa }}
                </li>
              </ul>
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              <ul>
                <li *ngFor="let disciplina of getUniqueDisciplinas(item.lista_compartilhada_arquivo)">
                  {{ disciplina }}
                </li>
              </ul>
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              <ul>
                <li *ngFor="let projeto of getUniqueProjetos(item.lista_compartilhada_arquivo)">
                  {{ projeto }}
                </li>
              </ul>
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{ item.lista_compartilhada_arquivo.length }}
            </td>
            <td class="p-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{ getStatusDescription(item.lista_compartilhada_status) }}
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>

</div>

<!-- Template do modal -->
<ng-template #modalTemplate>
  <div class="modal w-[680px]">
    <h1 mat-dialog-title>Criar Lista Compartilhada</h1>
    <mat-dialog-content>
      <!-- Conteúdo será inserido aqui -->
    </mat-dialog-content>
  </div>
</ng-template>
